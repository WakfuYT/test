<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AUTOROLE · Commands</title>
  <meta name="description" content="Autorole bot commands — searchable, categorized commands" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/avatars/YOUR_BOT_ID/YOUR_AVATAR_HASH.png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#050506;
      --panel: rgba(255,255,255,0.02);
      --muted:#9aa0a6;
      --accent:#EA5DF3;
      --glass-border: rgba(255,255,255,0.04);
      --card-bg: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));
      --radius:14px;
      --ease: cubic-bezier(.22,.9,.32,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#e6e7e8; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; background: linear-gradient(180deg,#020203 0%, #050506 100%);}
    a{color:inherit;text-decoration:none}
    
    /* topbar */
    header.topbar{
      position:sticky;top:0;z-index:50;padding:12px 20px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));backdrop-filter: blur(6px);border-bottom:1px solid rgba(255,255,255,0.02);
    }
    .top-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#9b5cf2);display:flex;align-items:center;justify-content:center;font-weight:800;color:white;box-shadow:0 8px 28px rgba(234,93,243,0.12)
    }
    .brand-title{font-weight:700;font-size:1.05rem;letter-spacing:.2px}
    nav.topnav{margin-left:28px;display:flex;gap:14px;align-items:center}
    nav.topnav a{opacity:.85;padding:8px 10px;border-radius:8px;cursor:pointer;transition:all .18s var(--ease)}
    nav.topnav a:hover{background:rgba(255,255,255,0.03);opacity:1}
    nav.topnav a.active{background:rgba(255,255,255,0.02)}
    .support{margin-left:auto;opacity:.8;padding:8px 14px;border-radius:8px;background:rgba(234,93,243,0.08);border:1px solid rgba(234,93,243,0.2);cursor:pointer;transition:all .18s var(--ease)}
    .support:hover{background:rgba(234,93,243,0.15);transform:translateY(-2px)}

    /* main */
    main.container{max-width:1200px;margin:28px auto;padding:0 20px}
    .page-header{display:flex;align-items:center;gap:16px;margin-bottom:18px;flex-wrap:wrap}
    .page-header-left{display:flex;align-items:center;gap:14px}
    .bot-avatar{width:56px;height:56px;border-radius:12px;object-fit:cover;box-shadow:0 8px 28px rgba(234,93,243,0.18);border:2px solid rgba(234,93,243,0.3)}
    .page-header h1{margin:0;font-size:1.9rem}
    .page-header .subtitle{color:var(--muted);font-size:0.95rem;margin-top:4px}

    .search-open { margin-left:auto; }

    /* filters with horizontal scroll */
    .filters{
      display:flex;gap:10px;margin-bottom:24px;padding-bottom:20px;
      border-bottom:1px solid rgba(255,255,255,0.04);
      overflow-x:auto;overflow-y:hidden;
      scrollbar-width:thin;scrollbar-color:rgba(234,93,243,0.3) rgba(0,0,0,0.2);
    }
    .filters::-webkit-scrollbar{height:8px}
    .filters::-webkit-scrollbar-track{background:rgba(0,0,0,0.2);border-radius:4px}
    .filters::-webkit-scrollbar-thumb{background:rgba(234,93,243,0.3);border-radius:4px}
    .filters::-webkit-scrollbar-thumb:hover{background:rgba(234,93,243,0.5)}
    
    .pill{
      background:var(--panel); padding:10px 14px;border-radius:12px;font-size:.95rem;color:var(--muted);
      display:inline-flex;align-items:center;gap:8px;border:1px solid var(--glass-border);cursor:pointer;
      transition:all .18s var(--ease);white-space:nowrap;flex-shrink:0;
    }
    .pill img{width:18px;height:18px;object-fit:contain}
    .pill .count{background:rgba(0,0,0,0.35);padding:4px 8px;border-radius:999px;font-weight:600;color:#fff;font-size:.8rem}
    .pill.active{box-shadow:0 8px 24px rgba(0,0,0,0.6);transform:translateY(-2px);color:#fff;border-color:rgba(234,93,243,0.3);background:rgba(234,93,243,0.08)}
    .pill:hover:not(.active){transform:translateY(-1px);border-color:rgba(234,93,243,0.15)}

    /* divider */
    .filter-divider{
      width:1px;background:rgba(255,255,255,0.1);margin:0 8px;flex-shrink:0;
    }

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:18px}

    /* card */
    .card{
      padding:18px;border-radius:var(--radius);background:var(--card-bg);border:1px solid var(--glass-border);
      box-shadow: 0 8px 26px rgba(0,0,0,0.6); transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
      min-height:160px;display:flex;flex-direction:column;justify-content:space-between;
    }
    .card:hover{transform: translateY(-6px);box-shadow:0 20px 40px rgba(0,0,0,0.6);border-color: rgba(234,93,243,0.08)}
    .card-header{display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
    .cmd-name{font-size:1.05rem;font-weight:700}
    .cmd-desc{color:var(--muted);margin-top:8px;font-size:0.95rem}

    .chip{display:inline-block;padding:7px 10px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.03);font-size:.88rem;color:#dcdcdc}

    .meta{display:flex;gap:18px;flex-wrap:wrap;margin-top:14px}
    .meta-column{flex:1;min-width:120px}

    /* icon button */
    .icon-btn{width:40px;height:40px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .12s var(--ease)}
    .icon-btn:hover{transform:scale(1.05);box-shadow:0 6px 18px rgba(234,93,243,0.06)}

    /* category content */
    .category-divider{margin:48px 0 24px 0;padding-bottom:12px;border-bottom:2px solid rgba(234,93,243,0.1);display:flex;align-items:center;gap:12px}
    .category-icon{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#9b5cf2);display:flex;align-items:center;justify-content:center}
    .category-icon img{width:24px;height:24px;object-fit:contain}
    .category-title-text{font-size:1.4rem;font-weight:700}
    .category-count{color:var(--muted);font-size:.9rem;margin-left:8px}
    .category-desc{color:var(--muted);font-size:.9rem;margin-left:48px;margin-top:8px;margin-bottom:20px}

    /* modal search */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);backdrop-filter:blur(8px);z-index:80;padding:24px}
    .modal.show{display:flex;animation:fadeIn .22s var(--ease) both}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .modal-panel{width:min(880px,96%);padding:18px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid var(--glass-border);box-shadow:0 20px 60px rgba(0,0,0,0.7);position:relative;transform:translateY(-8px);animation:panelIn .22s var(--ease) both}
    @keyframes panelIn{from{opacity:0;transform:translateY(-12px)}to{opacity:1;transform:translateY(0)}}
    .search-input{width:100%;padding:14px 16px;border-radius:10px;border:none;background:rgba(0,0,0,0.3);color:#fff;font-size:1.05rem;outline:none}
    .search-hint{color:var(--muted);font-size:.95rem;margin-top:8px}

    /* search result list */
    .results{margin-top:14px;max-height:380px;overflow:auto;display:flex;flex-direction:column;gap:8px}
    .result-item{padding:10px;border-radius:10px;background:rgba(255,255,255,0.01);display:flex;justify-content:space-between;align-items:center;border:1px solid rgba(255,255,255,0.02);transition:all .12s var(--ease)}
    .result-item:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(0,0,0,0.6)}

    /* toast */
    .toast{position:fixed;right:18px;bottom:18px;padding:10px 14px;border-radius:10px;background:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.04);color:#fff;z-index:90;display:none}
    .toast.show{display:block;animation:toastIn .18s var(--ease) both}
    @keyframes toastIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

    /* helpers */
    .muted{color:var(--muted)}

    /* responsive */
    @media (max-width:768px){
      .page-header h1{font-size:1.5rem}
      .grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

<header class="topbar">
  <div class="top-inner">
    <div class="brand">
      <div class="logo" aria-hidden="true">A</div>
      <div>
        <div class="brand-title">AUTOROLE</div>
        <div class="muted" style="font-size:0.86rem;margin-top:2px">Your bot commands</div>
      </div>
      <nav class="topnav" aria-label="top navigation">
        <a class="active" href="#commands">Commands</a>
        <a href="https://autorole.bot/privacy-policy" target="_blank">Privacy Policy</a>
      </nav>
    </div>

    <a href="https://discord.gg/autorole" target="_blank" class="support">Support Server</a>
  </div>
</header>

<main class="container" role="main">
  <div class="page-header">
    <div class="page-header-left">
      <img src="https://cdn.discordapp.com/avatars/YOUR_BOT_ID/YOUR_AVATAR_HASH.png" alt="AUTOROLE Bot" class="bot-avatar" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
      <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#9b5cf2);display:none;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:1.05rem;box-shadow:0 8px 28px rgba(234,93,243,0.18)">AR</div>
      <div>
        <h1>Commands</h1>
        <div class="subtitle">All commands organized by category</div>
      </div>
    </div>

    <div class="search-open">
      <button id="openSearchButton" class="pill" title="Open search" aria-label="Open search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#d1d5db" stroke-width="1.4" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="#d1d5db" stroke-width="1.4"/></svg>
        <span class="muted">Search</span>
      </button>
    </div>
  </div>

  <section class="filters" role="toolbar" aria-label="filters">
    <!-- TYPE FILTERS -->
    <div id="tabAll" class="pill active" data-filter="all">All <span class="count" style="margin-left:8px">188</span></div>
    <div id="tabPrefix" class="pill" data-filter="prefix">Prefix <span class="chip" style="margin-left:8px">98</span></div>
    <div id="tabSlash" class="pill" data-filter="slash">Slash <span class="chip" style="margin-left:8px">90</span></div>
    
    <!-- DIVIDER -->
    <div class="filter-divider"></div>
    
    <!-- CATEGORY FILTERS (scrollable) -->
    <div id="categoryFilters" style="display:flex;gap:10px">
      <!-- Category pills will be inserted here -->
    </div>
  </section>

  <div id="commandsGrid">
    <!-- Commands will be injected here -->
  </div>
</main>

<!-- Search modal -->
<div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Search commands">
  <div class="modal-panel" role="document">
    <div style="display:flex;gap:12px;align-items:center">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#d1d5db" stroke-width="1.4" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="#d1d5db" stroke-width="1.4"/></svg>
      <input id="modalSearch" class="search-input" placeholder="Search commands..." aria-label="Search commands" />
      <button id="closeModal" class="pill">Close</button>
    </div>
    <div class="search-hint muted">Press <strong>Esc</strong> to close</div>
    <div id="results" class="results"></div>
  </div>
</div>

<!-- toast -->
<div id="toast" class="toast">Copied!</div>

<script>
const COMMANDS = [
  // AFK
  { name: "!afk", usage: "!afk [reason=AFK]", type: "prefix", category: "afk", description: "Sets your AFK status in this server" },
  { name: "!afk_global", usage: "!afk_global [reason=AFK]", type: "prefix", category: "afk", description: "Sets your AFK status globally" },
  { name: "!afk_remove", usage: "!afk_remove", type: "prefix", category: "afk", description: "Removes your AFK status manually" },
  { name: "/afk", usage: "/afk [reason]", type: "slash", category: "afk", description: "Sets your AFK status in this server" },
  { name: "/afk_global", usage: "/afk_global [reason]", type: "slash", category: "afk", description: "Sets your AFK status globally" },
  { name: "/afk_remove", usage: "/afk_remove", type: "slash", category: "afk", description: "Removes your AFK status manually" },

  // Moderation
  { name: "!ban", usage: "!ban <target> [delete_days=0] [reason]", type: "prefix", category: "moderation", description: "Ban a user from the server" },
  { name: "!kick", usage: "!kick <member> [reason]", type: "prefix", category: "moderation", description: "Kick a user from the server" },
  { name: "!mute", usage: "!mute <member> <duration> [reason]", type: "prefix", category: "moderation", description: "Timeout a user" },
  { name: "!unmute", usage: "!unmute <member>", type: "prefix", category: "moderation", description: "Remove timeout from a user" },
  { name: "!warn", usage: "!warn <member> [reason]", type: "prefix", category: "moderation", description: "Warn a user" },
  { name: "!unban", usage: "!unban <user_id>", type: "prefix", category: "moderation", description: "Unban a user by ID" },
  { name: "!purge", usage: "!purge <amount> [user]", type: "prefix", category: "moderation", description: "Delete messages" },
  { name: "!lock", usage: "!lock", type: "prefix", category: "moderation", description: "Lock a channel" },
  { name: "!unlock", usage: "!unlock", type: "prefix", category: "moderation", description: "Unlock a channel" },
  { name: "!slowmode", usage: "!slowmode [time] [reason]", type: "prefix", category: "moderation", description: "Set slowmode" },
  { name: "!globalban", usage: "!globalban <user_id> [reason]", type: "prefix", category: "moderation", description: "Ban user from all guilds" },
  { name: "!globalkick", usage: "!globalkick <user_id> [reason]", type: "prefix", category: "moderation", description: "Kick user from all guilds" },
  { name: "!globalunban", usage: "!globalunban <user_id>", type: "prefix", category: "moderation", description: "Unban user from all guilds" },
  { name: "/ban", usage: "/ban [member] [user_id] [reason]", type: "slash", category: "moderation", description: "Ban a user from the server" },
  { name: "/kick", usage: "/kick <member> [reason]", type: "slash", category: "moderation", description: "Kick a user" },
  { name: "/mute", usage: "/mute <member> <duration> [reason]", type: "slash", category: "moderation", description: "Timeout a user" },
  { name: "/unmute", usage: "/unmute <member>", type: "slash", category: "moderation", description: "Remove timeout" },
  { name: "/warn", usage: "/warn <member> [reason]", type: "slash", category: "moderation", description: "Warn a user" },
  { name: "/unban", usage: "/unban <user_id>", type: "slash", category: "moderation", description: "Unban a user" },
  { name: "/clear", usage: "/clear <amount> [user]", type: "slash", category: "moderation", description: "Delete messages" },
  { name: "/lock", usage: "/lock", type: "slash", category: "moderation", description: "Lock a channel" },
  { name: "/unlock", usage: "/unlock", type: "slash", category: "moderation", description: "Unlock a channel" },
  { name: "/purge_messages", usage: "/purge_messages <limit>", type: "slash", category: "moderation", description: "Delete messages" },
  { name: "/nickreset", usage: "/nickreset <user>", type: "slash", category: "moderation", description: "Reset user nickname" },
  { name: "/setnick", usage: "/setnick <user> <nickname>", type: "slash", category: "moderation", description: "Change user nickname" },

  // AutoMod
  { name: "/automod", usage: "/automod [action]", type: "slash", category: "automod", description: "Enable or disable automod" },
  { name: "/badword", usage: "/badword", type: "slash", category: "automod", description: "Manage banned words" },
  { name: "/antilink", usage: "/antilink", type: "slash", category: "automod", description: "Anti-link protection" },
  { name: "/config_antilink", usage: "/config_antilink", type: "slash", category: "automod", description: "Configure anti-link" },
  { name: "/raidprotect", usage: "/raidprotect <action>", type: "slash", category: "automod", description: "Antiraid protection" },
  { name: "/raid_config", usage: "/raid_config", type: "slash", category: "automod", description: "Configure antiraid" },
  { name: "/bypass_automod", usage: "/bypass_automod [action] [member] [role]", type: "slash", category: "automod", description: "Bypass automod" },

  // Roles
  { name: "/autorole", usage: "/autorole", type: "slash", category: "roles", description: "Manage autorole" },
  { name: "/addrole", usage: "/addrole <member> <role>", type: "slash", category: "roles", description: "Add role to user" },
  { name: "/removerole", usage: "/removerole <member> <role>", type: "slash", category: "roles", description: "Remove role" },
  { name: "/massroles", usage: "/massroles <role>", type: "slash", category: "roles", description: "Mass role management" },
  { name: "/roleinfo", usage: "/roleinfo <role>", type: "slash", category: "roles", description: "Role information" },
  { name: "/delete_roles", usage: "/delete_roles <keyword>", type: "slash", category: "roles", description: "Delete roles by keyword" },

  // Server
  { name: "/config_join", usage: "/config_join <channel>", type: "slash", category: "server", description: "Configure welcome" },
  { name: "/remove_join", usage: "/remove_join", type: "slash", category: "server", description: "Disable welcome" },
  { name: "/counter", usage: "/counter <channel>", type: "slash", category: "server", description: "Set counter channel" },
  { name: "/remove_counter", usage: "/remove_counter", type: "slash", category: "server", description: "Disable counter" },
  { name: "!setcount", usage: "!setcount <number>", type: "prefix", category: "server", description: "Set counter number" },
  { name: "/delete_channels", usage: "/delete_channels <keyword>", type: "slash", category: "server", description: "Delete channels" },
  { name: "/reset_permissions", usage: "/reset_permissions", type: "slash", category: "server", description: "Reset permissions" },
  { name: "/milestone", usage: "/milestone", type: "slash", category: "server", description: "View milestones" },
  { name: "/setmilestone", usage: "/setmilestone <type> <goal> <description>", type: "slash", category: "server", description: "Add milestone" },
  { name: "/removemilestone", usage: "/removemilestone <id>", type: "slash", category: "server", description: "Remove milestone" },
  { name: "/bump", usage: "/bump", type: "slash", category: "server", description: "Server bump" },

  // Utility
  { name: "!userinfo", usage: "!userinfo [user]", type: "prefix", category: "utility", description: "User information" },
  { name: "!botperms", usage: "!botperms", type: "prefix", category: "utility", description: "Check bot permissions" },
  { name: "!check", usage: "!check", type: "prefix", category: "utility", description: "Check permissions" },
  { name: "!ping", usage: "!ping", type: "prefix", category: "utility", description: "Bot latency" },
  { name: "!membercount", usage: "!membercount", type: "prefix", category: "utility", description: "Show member count" },
  { name: "!commands", usage: "!commands [search_term]", type: "prefix", category: "utility", description: "List commands" },
  { name: "!cmdinfo", usage: "!cmdinfo <command_name>", type: "prefix", category: "utility", description: "Command info" },
  { name: "!cmdstats", usage: "!cmdstats", type: "prefix", category: "utility", description: "Command statistics" },
  { name: "!id", usage: "!id <command_name>", type: "prefix", category: "utility", description: "Get command ID" },
  { name: "!informations", usage: "!informations [category]", type: "prefix", category: "utility", description: "Display bot commands" },
  { name: "/userinfo", usage: "/user_info [user]", type: "slash", category: "utility", description: "User info" },
  { name: "/botinfo", usage: "/botinfo", type: "slash", category: "utility", description: "Bot information" },
  { name: "/ping", usage: "/ping", type: "slash", category: "utility", description: "Check latency" },
  { name: "/serverstats", usage: "/serverstats", type: "slash", category: "utility", description: "Server statistics" },
  { name: "/boosters", usage: "/boosters", type: "slash", category: "utility", description: "Server boosters" },
  { name: "/status", usage: "/status", type: "slash", category: "utility", description: "Bot status" },
  { name: "/help", usage: "/help", type: "slash", category: "utility", description: "Show commands" },
  { name: "/invite", usage: "/invite", type: "slash", category: "utility", description: "Invite link" },
  { name: "/vote", usage: "/vote", type: "slash", category: "utility", description: "Vote for bot" },
  { name: "/discordstatus", usage: "/discordstatus", type: "slash", category: "utility", description: "Discord status" },

  // Timezone
  { name: "!settimezone", usage: "!settimezone <location>", type: "prefix", category: "timezone", description: "Set your timezone" },
  { name: "!tz", usage: "!tz [target]", type: "prefix", category: "timezone", description: "Check timezone" },
  { name: "!removetimezone", usage: "!removetimezone", type: "prefix", category: "timezone", description: "Remove timezone" },
  { name: "!comparetime", usage: "!comparetime", type: "prefix", category: "timezone", description: "Compare times" },
  { name: "!checktime", usage: "!checktime", type: "prefix", category: "timezone", description: "Show time" },

  // Translation
  { name: "!translate", usage: "!translate [target_lang] [text]", type: "prefix", category: "translation", description: "Translate text" },
  { name: "!transhelp", usage: "!transhelp", type: "prefix", category: "translation", description: "Translation help" },
  { name: "!transhistory", usage: "!transhistory", type: "prefix", category: "translation", description: "Translation history" },
  { name: "!detectlang", usage: "!detectlang [text]", type: "prefix", category: "translation", description: "Detect language" },
  { name: "!languages", usage: "!languages [search]", type: "prefix", category: "translation", description: "Supported languages" },

  // Snipe
  { name: "!snipe", usage: "!snipe", type: "prefix", category: "snipe", description: "Snipe deleted messages" },
  { name: "!snipefrom", usage: "!snipefrom <channel>", type: "prefix", category: "snipe", description: "Snipe from channel" },
  { name: "!clearsnipes", usage: "!clearsnipes [channel]", type: "prefix", category: "snipe", description: "Clear snipes" },
  { name: "!snipestats", usage: "!snipestats", type: "prefix", category: "snipe", description: "Snipe statistics" },

  // Music
  { name: "!join", usage: "!join", type: "prefix", category: "music", description: "Join voice channel" },
  { name: "!leave", usage: "!leave", type: "prefix", category: "music", description: "Leave voice channel" },
  { name: "!track", usage: "!track [channel_id]", type: "prefix", category: "music", description: "Track voice channel" },
  { name: "!untrack", usage: "!untrack [channel_id]", type: "prefix", category: "music", description: "Stop tracking" },
  { name: "!status", usage: "!status", type: "prefix", category: "music", description: "Tracking status" },
  { name: "!left", usage: "!left [channel_id]", type: "prefix", category: "music", description: "List who left" },
  { name: "!list", usage: "!list [channel_id]", type: "prefix", category: "music", description: "List current members" },
  { name: "/play", usage: "/play <query>", type: "slash", category: "music", description: "Play music" },
  { name: "/search", usage: "/search <query>", type: "slash", category: "music", description: "Search music" },
  { name: "/cleanup", usage: "/cleanup", type: "slash", category: "music", description: "Cleanup music files" },
  { name: "/storage_info", usage: "/storage_info", type: "slash", category: "music", description: "Storage info" },

  // TTS
  { name: "!tts", usage: "!tts <text>", type: "prefix", category: "tts", description: "Text to speech" },
  { name: "!ttshelp", usage: "!ttshelp", type: "prefix", category: "tts", description: "TTS help" },
  { name: "!settings", usage: "!settings", type: "prefix", category: "tts", description: "TTS settings" },
  { name: "!voice", usage: "!voice [voice_name]", type: "prefix", category: "tts", description: "Change TTS voice" },
  { name: "!provider", usage: "!provider [provider_name]", type: "prefix", category: "tts", description: "Change TTS provider" },
  { name: "!rate", usage: "!rate [speed]", type: "prefix", category: "tts", description: "Set speech rate" },
  { name: "!volume", usage: "!volume [vol]", type: "prefix", category: "tts", description: "Set TTS volume" },
  { name: "!queue", usage: "!queue", type: "prefix", category: "tts", description: "Show TTS queue" },
  { name: "!skip", usage: "!skip", type: "prefix", category: "tts", description: "Skip current TTS" },
  { name: "!stop", usage: "!stop", type: "prefix", category: "tts", description: "Stop TTS" },

  // Fun
  { name: "!games", usage: "!games", type: "prefix", category: "fun", description: "Play games" },
  { name: "!blacktea", usage: "!blacktea", type: "prefix", category: "fun", description: "Black Tea word game" },
  { name: "/8ball", usage: "/8ball <question>", type: "slash", category: "fun", description: "Magic 8-ball" },
  { name: "/coinflip", usage: "/coinflip", type: "slash", category: "fun", description: "Flip a coin" },
  { name: "/roll", usage: "/roll [sides]", type: "slash", category: "fun", description: "Roll a dice" },
  { name: "/meme", usage: "/meme", type: "slash", category: "fun", description: "Random meme" },
  { name: "/cat", usage: "/cat", type: "slash", category: "fun", description: "Cat image" },
  { name: "/joke", usage: "/joke", type: "slash", category: "fun", description: "Random joke" },
  { name: "/hack", usage: "/hack <user>", type: "slash", category: "fun", description: "Pretend to hack" },
  { name: "/nitro", usage: "/nitro", type: "slash", category: "fun", description: "Fake nitro gift" },

  // RPG
  { name: "!start", usage: "!start", type: "prefix", category: "rpg", description: "Start RPG adventure" },
  { name: "!profile", usage: "!profile [user]", type: "prefix", category: "rpg", description: "View character profile" },
  { name: "!battle", usage: "!battle <opponent>", type: "prefix", category: "rpg", description: "Battle another player" },
  { name: "!hunt", usage: "!hunt", type: "prefix", category: "rpg", description: "Hunt for resources" },
  { name: "!dungeon", usage: "!dungeon", type: "prefix", category: "rpg", description: "Enter dungeon" },
  { name: "!shop", usage: "!shop", type: "prefix", category: "rpg", description: "Buy items" },
  { name: "!inventory", usage: "!inventory", type: "prefix", category: "rpg", description: "Check inventory" },
  { name: "!skills", usage: "!skills", type: "prefix", category: "rpg", description: "View skills" },
  { name: "!quest", usage: "!quest", type: "prefix", category: "rpg", description: "Get a quest" },
  { name: "!leaderboard", usage: "!leaderboard", type: "prefix", category: "rpg", description: "View leaderboard" },
  { name: "!dailyreward", usage: "!dailyreward", type: "prefix", category: "rpg", description: "Daily reward" },
  { name: "!prestige", usage: "!prestige", type: "prefix", category: "rpg", description: "Prestige system" },
  { name: "!stats", usage: "!stats", type: "prefix", category: "rpg", description: "Game statistics" },
  { name: "!give", usage: "!give", type: "prefix", category: "rpg", description: "Give items" },

  // Social
  { name: "!spotify", usage: "!spotify [user]", type: "prefix", category: "social", description: "Spotify info" },
  { name: "/marry", usage: "/marry <user>", type: "slash", category: "social", description: "Marry another user" },
  { name: "/divorce", usage: "/divorce", type: "slash", category: "social", description: "Divorce partner" },
  { name: "/partner", usage: "/partner [user]", type: "slash", category: "social", description: "Check marriage" },
  { name: "/avatar", usage: "/avatar [member]", type: "slash", category: "social", description: "View avatar" },

  // Giveaways
  { name: "/gcreate", usage: "/gcreate <duration> <winners> <prize>", type: "slash", category: "giveaway", description: "Start giveaway" },
  { name: "/gend", usage: "/gend <message_id>", type: "slash", category: "giveaway", description: "End giveaway" },
  { name: "/greroll", usage: "/greroll <message_id>", type: "slash", category: "giveaway", description: "Reroll winner" },
  { name: "/glist", usage: "/glist", type: "slash", category: "giveaway", description: "List giveaways" },
  { name: "/gdebug", usage: "/gdebug <message_id>", type: "slash", category: "giveaway", description: "Debug giveaway" },
  { name: "/gforce", usage: "/gforce", type: "slash", category: "giveaway", description: "Force check giveaways" },
  { name: "/grestart", usage: "/grestart", type: "slash", category: "giveaway", description: "Restart giveaway task" },

  // Tickets
  { name: "!ticket", usage: "!ticket", type: "prefix", category: "tickets", description: "Ticket system" },
  { name: "/whitelist", usage: "/whitelist <role>", type: "slash", category: "tickets", description: "Whitelist role" },
  { name: "/unwhitelist", usage: "/unwhitelist <role>", type: "slash", category: "tickets", description: "Unwhitelist role" },
  { name: "/contact", usage: "/contact <message>", type: "slash", category: "tickets", description: "Contact admins" },

  // Reminders
  { name: "/reminder", usage: "/reminder <action> [reason] [time]", type: "slash", category: "reminders", description: "Manage reminders" },
  { name: "!setalert", usage: "!setalert [channel]", type: "prefix", category: "reminders", description: "Set alert channel" },
  { name: "!removealert", usage: "!removealert", type: "prefix", category: "reminders", description: "Remove alert channel" },

  // Messaging
  { name: "/poll", usage: "/poll", type: "slash", category: "messaging", description: "Create a poll" },
  { name: "/say", usage: "/say <text> [channel]", type: "slash", category: "messaging", description: "Send message" },
  { name: "/fakemessages", usage: "/fakemessages <message> [user]", type: "slash", category: "messaging", description: "Fake Discord message" },
  { name: "/update_version", usage: "/update_version <old> <new> <type> <changelog>", type: "slash", category: "messaging", description: "Version update" },

  // External
  { name: "!domain", usage: "!domain <domain_name>", type: "prefix", category: "external", description: "Check domain availability" },
  { name: "!fortniteshop", usage: "!fortniteshop", type: "prefix", category: "external", description: "Fortnite shop" },
  { name: "/iplookup", usage: "/iplookup <ip>", type: "slash", category: "external", description: "IP lookup" },
  { name: "/weather", usage: "/weather <city>", type: "slash", category: "external", description: "Weather info" },
  { name: "/google", usage: "/google <query>", type: "slash", category: "external", description: "Google search (premium)" },
  { name: "/roblox", usage: "/roblox <username>", type: "slash", category: "external", description: "Roblox user info" },

  // Emojis
  { name: "/steal", usage: "/steal <emoji> [name]", type: "slash", category: "emojis", description: "Steal emoji" },
  { name: "/steal-sticker", usage: "/steal-sticker <source>", type: "slash", category: "emojis", description: "Steal sticker" },

  // Stats
  { name: "/activity-stats", usage: "/activity-stats", type: "slash", category: "stats", description: "Activity statistics" },
  { name: "!migrate", usage: "!migrate", type: "prefix", category: "stats", description: "Migrate stats to database" },

  // Premium
  { name: "/premium", usage: "/premium", type: "slash", category: "premium", description: "Premium panel" },
  { name: "/checkpremium", usage: "/checkpremium [user]", type: "slash", category: "premium", description: "Check premium status" },
  { name: "/premiumstats", usage: "/premiumstats", type: "slash", category: "premium", description: "Premium stats" },

  // Owner
  { name: "!ownerpanel", usage: "!ownerpanel", type: "prefix", category: "owner", description: "Owner panel" },
  { name: "!cogload", usage: "!cogload <cog>", type: "prefix", category: "owner", description: "Load cog" },
  { name: "!cogreload", usage: "!cogreload <cog>", type: "prefix", category: "owner", description: "Reload cog" },
  { name: "!cogunload", usage: "!cogunload <cog>", type: "prefix", category: "owner", description: "Unload cog" },
  { name: "!reloadall", usage: "!reloadall", type: "prefix", category: "owner", description: "Reload all cogs" },
  { name: "!listcogs", usage: "!listcogs", type: "prefix", category: "owner", description: "List all cogs" },
  { name: "!sync", usage: "!sync", type: "prefix", category: "owner", description: "Sync slash commands" },
  { name: "!install", usage: "!install <package>", type: "prefix", category: "owner", description: "Install library" },
  { name: "!dbstats", usage: "!dbstats", type: "prefix", category: "owner", description: "Database stats" },
  { name: "!export_commands", usage: "!export_commands", type: "prefix", category: "owner", description: "Export commands" },
  { name: "!migrate_to_db", usage: "!migrate_to_db", type: "prefix", category: "owner", description: "Migrate AFK to database" },
  { name: "!snipemigrate", usage: "!snipemigrate", type: "prefix", category: "owner", description: "Migrate snipes to database" },
  { name: "!wipesnipes", usage: "!wipesnipes", type: "prefix", category: "owner", description: "Wipe all snipes" },
  { name: "/bannedin", usage: "/bannedin <user_id>", type: "slash", category: "owner", description: "Check ban status" }
];

// Custom emoji URLs - REPLACE WITH YOUR DISCORD EMOJI URLS
const CATEGORY_INFO = {
  afk: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "AFK" },
  moderation: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Moderation" },
  automod: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "AutoMod" },
  roles: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Roles" },
  server: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Server" },
  utility: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Utility" },
  timezone: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Timezone" },
  translation: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Translation" },
  snipe: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Snipe" },
  music: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Music" },
  tts: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "TTS" },
  fun: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Fun" },
  rpg: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "RPG" },
  social: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Social" },
  giveaway: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Giveaways" },
  tickets: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Tickets" },
  reminders: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Reminders" },
  messaging: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Messaging" },
  external: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "External" },
  emojis: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Emojis" },
  stats: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Stats" },
  premium: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Premium" },
  owner: { emoji: "https://cdn.discordapp.com/emojis/1234567890123456789.png", title: "Owner" }
};

const modal = document.getElementById('modal');
const openSearchButton = document.getElementById('openSearchButton');
const closeModal = document.getElementById('closeModal');
const modalSearch = document.getElementById('modalSearch');
const results = document.getElementById('results');
const toast = document.getElementById('toast');
const tabAll = document.getElementById('tabAll');
const tabPrefix = document.getElementById('tabPrefix');
const tabSlash = document.getElementById('tabSlash');
const commandsGrid = document.getElementById('commandsGrid');
const categoryFilters = document.getElementById('categoryFilters');

let activeTypeFilter = 'all';
let activeCategoryFilter = null;

function esc(s){
  if (!s) return '';
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

function buildCard(cmd){
  const el = document.createElement('article');
  el.className = 'card';
  el.innerHTML = `
    <div class="card-header">
      <div>
        <div class="cmd-name">${esc(cmd.name)}</div>
        <div class="cmd-desc">${esc(cmd.description)}</div>
      </div>
      <button class="icon-btn copy-usage" title="Copy usage" data-usage="${esc(cmd.usage)}">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="9" height="9" rx="2" stroke="#cbd5e1" stroke-width="1.2"/><rect x="5" y="5" width="9" height="9" rx="2" stroke="#cbd5e1" stroke-width="1.2"/></svg>
      </button>
    </div>
    <div class="meta">
      <div class="meta-column">
        <div class="muted" style="font-size:.82rem">usage</div>
        <div style="margin-top:8px"><span class="chip">${esc(cmd.usage)}</span></div>
      </div>
      <div class="meta-column">
        <div class="muted" style="font-size:.82rem">type</div>
        <div style="margin-top:8px"><span class="chip">${cmd.type === 'prefix' ? 'Prefix' : 'Slash'}</span></div>
      </div>
    </div>
  `;
  return el;
}

function groupByCategory(commands){
  const grouped = {};
  commands.forEach(cmd => {
    const cat = cmd.category || 'other';
    if (!grouped[cat]) grouped[cat] = [];
    grouped[cat].push(cmd);
  });
  return grouped;
}

function renderCommands(){
  let commands = COMMANDS;
  
  if (activeTypeFilter === 'prefix') {
    commands = commands.filter(c => c.type === 'prefix');
  } else if (activeTypeFilter === 'slash') {
    commands = commands.filter(c => c.type === 'slash');
  }
  
  if (activeCategoryFilter) {
    commands = commands.filter(c => c.category === activeCategoryFilter);
  }
  
  const grouped = groupByCategory(commands);
  commandsGrid.innerHTML = '';
  
  Object.keys(grouped).sort().forEach(categoryKey => {
    const catInfo = CATEGORY_INFO[categoryKey] || { emoji: "", title: categoryKey };
    const cmds = grouped[categoryKey];
    
    const header = document.createElement('div');
    header.className = 'category-divider';
    header.innerHTML = `
      <div class="category-icon">
        <img src="${catInfo.emoji}" alt="${catInfo.title}" onerror="this.style.display='none'">
      </div>
      <div>
        <div class="category-title-text">${catInfo.title}<span class="category-count">(${cmds.length})</span></div>
      </div>
    `;
    commandsGrid.appendChild(header);
    
    const grid = document.createElement('div');
    grid.className = 'grid';
    grid.style.marginBottom = '32px';
    cmds.forEach(cmd => grid.appendChild(buildCard(cmd)));
    commandsGrid.appendChild(grid);
  });
  
  document.querySelectorAll('.copy-usage').forEach(btn => {
    btn.addEventListener('click', copyHandler);
  });
}

function copyHandler(e){
  const usage = e.currentTarget.getAttribute('data-usage');
  navigator.clipboard?.writeText(usage).then(() => showToast(`Copied: ${usage}`)).catch(() => showToast('Copied'));
}

function setActiveTypeTab(tab){
  [tabAll, tabPrefix, tabSlash].forEach(t => t.classList.remove('active'));
  tab.classList.add('active');
}

function updateCounts(){
  const allCount = COMMANDS.length;
  const prefixCount = COMMANDS.filter(c => c.type === 'prefix').length;
  const slashCount = COMMANDS.filter(c => c.type === 'slash').length;
  
  tabAll.querySelector('.count').textContent = allCount;
  tabPrefix.querySelector('.chip').textContent = prefixCount;
  tabSlash.querySelector('.chip').textContent = slashCount;
}

function initCategoryFilters(){
  const categories = {};
  COMMANDS.forEach(cmd => {
    const cat = cmd.category || 'other';
    categories[cat] = (categories[cat] || 0) + 1;
  });
  
  categoryFilters.innerHTML = '';
  
  Object.keys(categories).sort().forEach(categoryKey => {
    const catInfo = CATEGORY_INFO[categoryKey] || { emoji: "", title: categoryKey };
    const count = categories[categoryKey];
    
    const pill = document.createElement('div');
    pill.className = 'pill';
    pill.innerHTML = `
      <img src="${catInfo.emoji}" alt="${catInfo.title}" onerror="this.remove()">
      ${catInfo.title}
      <span class="chip" style="margin-left:8px">${count}</span>
    `;
    
    pill.addEventListener('click', () => {
      if (activeCategoryFilter === categoryKey) {
        activeCategoryFilter = null;
        pill.classList.remove('active');
      } else {
        categoryFilters.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
        activeCategoryFilter = categoryKey;
        pill.classList.add('active');
      }
      renderCommands();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    categoryFilters.appendChild(pill);
  });
}

function init(){
  updateCounts();
  initCategoryFilters();
  renderCommands();
  
  tabAll.addEventListener('click', () => {
    activeTypeFilter = 'all';
    setActiveTypeTab(tabAll);
    renderCommands();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
  
  tabPrefix.addEventListener('click', () => {
    activeTypeFilter = 'prefix';
    setActiveTypeTab(tabPrefix);
    renderCommands();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
  
  tabSlash.addEventListener('click', () => {
    activeTypeFilter = 'slash';
    setActiveTypeTab(tabSlash);
    renderCommands();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
  
  openSearchButton.addEventListener('click', () => {
    modal.classList.add('show');
    modal.setAttribute('aria-hidden','false');
    modalSearch.value = '';
    results.innerHTML = '';
    setTimeout(() => modalSearch.focus(), 80);
  });
  
  closeModal.addEventListener('click', closeSearchModal);
  modal.addEventListener('click', e => {
    if (e.target === modal) closeSearchModal();
  });
  
  modalSearch.addEventListener('input', () => {
    const q = modalSearch.value.trim().toLowerCase();
    if (!q) { results.innerHTML = ''; return; }
    const found = COMMANDS.filter(c => {
      return (c.name + ' ' + c.usage + ' ' + c.description).toLowerCase().includes(q);
    });
    renderSearchResults(found);
  });
  
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape' && modal.classList.contains('show')) closeSearchModal();
  });
}

function renderSearchResults(list){
  results.innerHTML = '';
  if (!list.length) {
    results.innerHTML = '<div class="result-item">No commands found</div>';
    return;
  }
  list.forEach(cmd => {
    const catInfo = CATEGORY_INFO[cmd.category] || {};
    const r = document.createElement('div');
    r.className = 'result-item';
    r.innerHTML = `
      <div style="min-width:0">
        <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap">
          <div style="font-weight:700">${esc(cmd.name)}</div>
          <span style="font-size:.8rem;opacity:.6">${catInfo.title || cmd.category}</span>
        </div>
        <div class="muted" style="font-size:.92rem;margin-top:4px">${esc(cmd.description)}</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <div class="chip">${cmd.type === 'prefix' ? 'Prefix' : 'Slash'}</div>
        <button class="icon-btn copy-result" data-usage="${esc(cmd.usage)}">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="9" height="9" rx="2" stroke="#cbd5e1" stroke-width="1.2"/><rect x="5" y="5" width="9" height="9" rx="2" stroke="#cbd5e1" stroke-width="1.2"/></svg>
        </button>
      </div>
    `;
    results.appendChild(r);
  });
  
  document.querySelectorAll('.copy-result').forEach(btn => {
    btn.addEventListener('click', copyHandler);
  });
}

function closeSearchModal(){
  modal.classList.remove('show');
  modal.setAttribute('aria-hidden','true');
  modalSearch.value = '';
  results.innerHTML = '';
}

let toastTimer;
function showToast(msg){
  toast.textContent = msg;
  toast.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => toast.classList.remove('show'), 1800);
}

init();
</script>
</body>
</html>
